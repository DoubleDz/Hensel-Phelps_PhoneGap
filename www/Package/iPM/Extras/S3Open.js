// Generated by CoffeeScript 1.4.0
(function() {
  var S3Open;

  S3Open = function(prid, fiix, inline, use_version_name) {
    var cmd, i_or_a, response, url;
    cmd = window.EpicMvc.Extras.Rest;
    i_or_a = inline ? 'inline' : 'attachment';
    if (use_version_name === true) {
      i_or_a += '_version';
    }
    response = cmd.rest("/Project/" + prid + "/File/" + fiix + "/" + i_or_a, 'S3Open()');
    if (!('signed_url' in response)) {
      alert('S3Open() bad response: ' + JSON.stringify(response));
      return;
    }
    url = response.signed_url;
    if (inline) {
      window.open(url, '_blank');
    } else {
      window.location.assign(url);
    }
  };

  window.S3Open = S3Open;

}).call(this);
